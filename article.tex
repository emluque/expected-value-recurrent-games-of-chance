\documentclass[12pt,reqno]{amsart}
\usepackage{fullpage}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{times}
\usepackage{graphicx}
\vfuzz=2pt

% some "funny lines" referred to later:
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
{ \theoremstyle{remark}\newtheorem*{remark}{Remark} }

\newcommand{\class}{MATH 613E: Topics in Analytic Number Theory}
\newcommand{\population}[2]{There are #2 students giving lectures, and also #2 students writing up notes from lectures. Everybody in the class is very #1 about this.}
\newcommand{\tex}{{\tt .tex}}

\setlength{\parskip}{1.4\baselineskip}
\begin{document}

\title[On the expected value of recurrent games of chance]{On the expected value of recurrent games of chance}
% or if you want, simply \title{Title of the article}
\author{Emiliano Martínez Luque}
\email{martinezluque@gmail.com}
\maketitle

\begin{abstract}
We define a recurrent game of chance, then provide formulas for calculating it's expected value.
\end{abstract}

\section{Recurrent game of chance definition.}
\label{first section}


A betting game that starting with an original amount being bet, a set of probabilities associated with different payoffs, then recursively applies this game conditions to the result of each successive step of the game. 

What differentiates this type of game from the ones used in the regular formula of expected value is that in this type of game no new amount is added in the game, the bets are always recursively applied to the result of the each step of the game.

We could then consider two different types of this game, either the betting party can decide whether to continue the game after each successive step or the game is applied with a fixed number of steps.

\section{Simple Example}

Let's present a simple example:


We start with an initial amount being bet of \$100 dollars. 


And we will have the following game conditions.


We will be flipping a coin and it is assumed that the process of flipping the coin is fair and we have equal probability of getting either heads or tails.

Now, if the coin lands on heads we increase the amount by 50\% and if it lands on tails we decrease the amount by 40\%.


For clarity we define:

x\textsubscript{0} as the initial amount

x\textsubscript{n} as the amount after n steps of the game.

b\textsubscript{h} as the coefficient we multiply the amount by if it lands on heads.

P(h) as the probability of the coin landing on Heads. 

In this example b\textsubscript{h} = 1.5, P(h) = 0.5

b\textsubscript{t} as the coefficient we multiply the amount by if it lands on tails.

P(t) as the probability of the coin landing on Heads. 

In this example b\textsubscript{t} = 0.6, P(t) = 0.5

Based on this conditions, we can conclude that this is a losing game for the betting party, and the rational decision when presented with this game is not to play the game. We will provide a proof and a general formula for this type of games in the following sections.


\section{General result for two different payoffs with same probability}

Let's generalize the game presented before which we will call G\textsubscript{*}, we define:

x\textsubscript{0} is the original amount.

x\textsubscript{n} as the value of the game in step n.

We define e\textsubscript{w} and e\textsubscript{l} as two posible events that can happen in any step of the recurrence with equal probability.

If event e\textsubscript{w} happens at step n we calculate the value of  recurrence at step n as:

x\textsubscript{n} = b\textsubscript{w} * x\textsubscript{n-1}

If event e\textsubscript{l} as: 

x\textsubscript{n} = b\textsubscript{l} * x\textsubscript{n-1}

Both events have equal probabilities of ocurring in any step, so P(e\textsubscript{w}) = P(e\textsubscript{l}) = 0.5. 

We define e\textsubscript{w} to be the winning outcome of the step (meaning it increases the amount at play) and e\textsubscript{l} to be the losing outcome (meaning it decreases the amount). 

We also define that the game is played over the original amount and no debt can be incurred in the game.

So another condition is that b\textsubscript{w} \textgreater 1 \textgreater b\textsubscript{l} \textgreater 0.

Sidenote (this should be a commentary at the bottom): If b\textsubscript{w} \textgreater b\textsubscript{l} \textgreater 1 or 1 \textgreater b\textsubscript{w} \textgreater b\textsubscript{l} there is nothing to prove or even reason about. If b\textsubscript{w} \textgreater b\textsubscript{l} \textgreater 1 any outcome is positive for the betting party and if 1 \textgreater b\textsubscript{w} \textgreater b\textsubscript{l} \textgreater 0 any outcome is negative. 

It is clear based on the definitions that the recurrence after n steps will be of the form.

x\textsubscript{n} = x\textsubscript{0} * b\textsubscript{w}\textsuperscript{p} * b\textsubscript{l}\textsuperscript{q}

Where p,q $\in$ $\mathbb{N}$, p $\geq$ 0, q $\geq$ 0 and p+q = n.  

Based on this conditions the expected value of the recurrence x\textsubscript{n} will be:

a. If b\textsubscript{l} \textgreater 1/b\textsubscript{w} it will tend to infinity.

b. If b\textsubscript{l} \textless 1/b\textsubscript{w} it will tend to 0.

c. If b\textsubscript{l} = 1/b\textsubscript{w} it will follow a binomial distribution around x\textsubscript{0}, the characteristics of which we will discuss next.

To start thinking about this, we`ll do the following exercise. 

Let's imagine a game on the number line, we are starting on 0, and then we flip a fair coin, if it comes heads (an event we will call a\textsubscript{w}) we move one full positive integer to the right and if it comes tails (an event we will call a\textsubscript{l}) we move a full positive integer to the left. We repeat this process n times.

Arithmetically, we start in 0, if a\textsubscript{w} we sum 1, if a\textsubscript{l} we sum -1.

We will represent any sequence of events by strings (sequence of characters) of the alphabet \{a\textsubscript{w}, a\textsubscript{l}\}. 

We will call this game G\textsubscript{+}.

Given a string x of n events, we will represent by G\textsubscript{+}(x) the value of the string x in the game G\textsubscript{+}.

We will also define the value of the empty string (which we will notates as "") to be 0·

So based on our definition of the game:

G\textsubscript{+}("") = 0

G\textsubscript{+}(a\textsubscript{w}) = +1

G\textsubscript{+}(a\textsubscript{l}) = -1

And given a character k and a substring l:

G\textsubscript{+}(kl) = G\textsubscript{+}(k) + G\textsubscript{+}(l)

Now to calculate the value of G\textsubscript{+}(x) for any string x based on our definitions, we start at 0 and then add + 1 for every character a\textsubscript{w} and -1 for every character a\textsubscript{l}.

For example:

G\textsubscript{+}(a\textsubscript{w}a\textsubscript{w}a\textsubscript{w}) = 0 + 1 + 1 + 1 = 3

G\textsubscript{+}(a\textsubscript{w}a\textsubscript{l}a\textsubscript{w}) = 0 + 1 -1 + 1 = 1

G\textsubscript{+}(a\textsubscript{l}a\textsubscript{l}a\textsubscript{w}a\textsubscript{w}) = 0 -1 -1 + 1 + 1 = 0


It is immediately clear that in any sequence of events any pair of the characters a\textsubscript{w} and a\textsubscript{l} will annulate themselves. 

G\textsubscript{+}(a\textsubscript{w}a\textsubscript{l}) = G\textsubscript{+}(a\textsubscript{l}a\textsubscript{w}) = G\textsubscript{+}("") = 0


Also due to the properties of addition, in any sequence of events the possible outcome in terms of the result will amount to just calculating the number of a\textsubscript{w}s or a\textsubscript{l}s left after taking out the pairs of a\textsubscript{w} and a\textsubscript{l}"s in the string.

Examples of calculating the value of the game: 

G\textsubscript{+}(a\textsubscript{w}a\textsubscript{l}a\textsubscript{w}a\textsubscript{l}) = G\textsubscript{+}("") = 0

G\textsubscript{+}(a\textsubscript{l}a\textsubscript{l}a\textsubscript{w}a\textsubscript{w}) = G\textsubscript{+}("") = 0

G\textsubscript{+}(a\textsubscript{w}a\textsubscript{w}a\textsubscript{w}a\textsubscript{l}) = G\textsubscript{+}(a\textsubscript{w}a\textsubscript{w}) =  2

G\textsubscript{+}(a\textsubscript{w}a\textsubscript{w}a\textsubscript{l}a\textsubscript{w}) = G\textsubscript{+}(a\textsubscript{w}a\textsubscript{w}) = 2

G\textsubscript{+}(a\textsubscript{l}a\textsubscript{l}a\textsubscript{l}a\textsubscript{w}) = G\textsubscript{+}(a\textsubscript{l}a\textsubscript{l}) = -2

An interesting thing to notice first is that for any string of size n, if n is even then the results will be even and if n is odd then the result will be odd too.

EXPLAINS HOW EVERYTHING BEFORE RELATES TO PASCAL TRIANGLE

THEN DO NEXT


How is this related to case c in our original game G\textsubscript{*}?


Let's reformulate our original game G\textsubscript{*}.

We could also represent any sequence of events in G\textsubscript(*) as a string from alphabet \{b\textsubscript{w}, b\textsubscript{l}\} for representing events e\textsubscript{w} and e\textsubscript{l} respectively.

So if we were to calculate a sequence of events in a game of G\textsubscript{*} we would do the following:

G\textsubscript{*}("") = x\textsubscript{0}

G\textsubscript{x}(b\textsubscript{w}) = x\textsubscript{0} * b\textsubscript{w}

G\textsubscript{x}(b\textsubscript{l}) = x\textsubscript{0} * b\textsubscript{l}

G\textsubscript{x}(b\textsubscript{w}b\textsubscript{l}) = x\textsubscript{0} * b\textsubscript{w} * b\textsubscript{l}

... ETC.. EXPLAIN THIS BETTER..

Now if b\textsubscript{l} = 1/b\textsubscript{w} $\implies$ b\textsubscript{l} = b\textsubscript{w}\textsuperscript{-1} .

Which means that for this case we can reformulate the recurrence formula as:

x\textsubscript{n} = x\textsubscript{0} * b\textsubscript{w}\textsuperscript{r}

Where r $\in$ $\mathbb{N}$.  

Also note that if b\textsubscript{l} = 1/b\textsubscript{w} $\implies$ b\textsubscript{w} * b\textsubscript{l} = 1 .

EXPLAIN BELOW BETTER

Let's reformulate our original game G\textsubscript{*} in terms of this new one G\textsubscript{+}.

It is evident that in this case the results of G\textsubscript{+} are equivalent to the exponentials of b\textsubscript{w} in the results of G\textsubscript{*} for this case.

EXPLAIN HOW DISTRIBUTION ON G\textsubscript{+} relate to the distribution on G\textsubscript{*}.

-- Rant about how is the exact definition of a fair game.. go on about pascal triangle and binomial distribution


OTHER CASES

HERE: This is the trick, and this is what I should be arriving at.

if b\textsubscript{l} $\neq$ 1/b\textsubscript{w}  $\implies$  b\textsubscript{w} * b\textsubscript{l} = 1 + $\epsilon$ .

explain what that means in terms of the expected value of the recurrence


\section{multiple outcames with equal probability}

m number of possible outcames, each with same probability and associated with a coefficient b\textsubscript{1} to b\textsubscript{m}



Result of the recurrence at infinity:



Let's define s = $\prod_{i=1}^{m} b_{i}$

if s \textgreater 1 tends to infinity

if s \textless 1 tends to 0

if s = 1 tends to x\textsubscript{0}


Prove algebraically.

\section{multiple outcames each with it's own probability}

m number of possible outcames, each with it's own coefficient b\textsubscript{i} and it's own probability p\textsubscript{i}

Result of the recurrence at infinity:

Let's define s = $\prod_{i=1}^{m} mp_{i}b_{i}$



if s \textgreater 1 tends to infinity

if s \textless 1 tends to 0

if s = 1 tends to x\textsubscript{0}



Examine distributions of probabilities.. this one is harsher.. to prove



Define expected value of recurrence r\textsubscript{n}

r\textsubscript{0} = x\textsubscript{0}

r\textsubscript{n} = sr\textsubscript{n-1}

Explain based on the definition of the common expected value formula


\end{document}
